<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Prediction Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="card">
        <h2>Prediction Result</h2>
        <div class="result-summary">
            <p><strong>Prediction:</strong> {{ prediction_text }}</p>
        </div>

        <!-- Probability Visualization -->
        <div class="probability-visualization">
            <h3>Default Probability</h3>
            <div class="gauge-container">
                <div class="gauge-wrapper">
                    <svg class="gauge" viewBox="0 0 200 120">
                        <!-- Background arc -->
                        <path d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="#e5e7eb" stroke-width="20"
                            stroke-linecap="round" />
                        <!-- Progress arc -->
                        <path class="gauge-progress" d="M 20 100 A 80 80 0 0 1 180 100" fill="none"
                            stroke="url(#gaugeGradient)" stroke-width="20" stroke-linecap="round"
                            stroke-dasharray="{{ (prob_value * 251.33)|round(2) }} 251.33"
                            transform="rotate(-90 100 100)" />
                        <defs>
                            <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#f59e0b;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#ef4444;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="gauge-value">{{ prob }}</div>
                    <div class="gauge-label">Risk Level</div>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar-container">
                <div class="progress-bar">
                    <div class="progress-fill"
                        style="width: {{ prob_value * 100 }}%; background: {% if prob_value < 0.3 %}#10b981{% elif prob_value < 0.7 %}#f59e0b{% else %}#ef4444{% endif %};">
                    </div>
                </div>
                <div class="progress-labels">
                    <span>Low Risk (0%)</span>
                    <span>High Risk (100%)</span>
                </div>
            </div>
        </div>

        <h3>Input Details</h3>
        <ul class="input-list">
            {% for k,v in raw.items() %}
            <li><strong>{{ k }}:</strong> {{ v }}</li>
            {% endfor %}
        </ul>

        <div class="actions">
            <a href="{{ url_for('home') }}" class="btn primary">New Prediction</a>
        </div>
    </div>
</body>

</html>